
/* Mobile-friendly touch targets */
.touch-optimized button,
.touch-optimized .touch-target,
.touch-optimized a {
  min-height: 44px;
  min-width: 44px;
}

/* Improve scrolling on touch devices */
.touch-scroll {
  -webkit-overflow-scrolling: touch;
  overflow-x: auto;
  overflow-y: hidden;
  scrollbar-width: none;  /* Firefox */
  -ms-overflow-style: none;  /* IE and Edge */
}

.touch-scroll::-webkit-scrollbar {
  display: none;  /* Chrome, Safari, Opera */
}

/* Prevent text from getting too small on mobile */
.touch-optimized {
  font-size: 16px;
}

/* Ensure content fits within the viewport */
.mobile-friendly-container {
  max-width: 100vw;
  overflow-x: hidden;
  width: 100%;
}

/* Additional class for homepage-specific fixes */
.index-page {
  overflow-x: hidden;
  width: 100%;
}

/* Fix navbar logo size - NEVER exceed these dimensions */
header img.logo,
.navbar-logo,
.header-logo,
header a img {
  max-height: 40px !important;
  width: auto !important;
  object-fit: contain;
}

/* Fix for narrow mobile screens */
@media (max-width: 360px) {
  .nutrition-carousel .carousel-item {
    max-width: 90vw !important; 
    margin-left: auto;
    margin-right: auto;
  }
  
  .nutrition-carousel .simpleMicronutrient-table {
    font-size: 0.65rem;
  }
  
  .carousel-scroll-area {
    padding-left: 4px;
    padding-right: 4px;
  }
  
  /* Make tab text smaller on very small screens */
  .tabs-xs-text .TabsTrigger {
    font-size: 0.7rem;
    padding-left: 0.5rem;
    padding-right: 0.5rem;
  }
  
  /* Make form inputs fit on small screens */
  input[type="text"],
  input[type="email"],
  input[type="number"],
  textarea,
  select {
    max-width: calc(100vw - 32px);
    width: 100% !important;
  }
}

/* Optimized inputs for mobile */
.touch-optimized input[type="text"],
.touch-optimized input[type="number"],
.touch-optimized input[type="email"],
.touch-optimized textarea,
.touch-optimized select {
  font-size: 16px; /* Prevents iOS zoom on focus */
  padding-top: 0.5rem;
  padding-bottom: 0.5rem;
  max-width: 100%;
}

/* Fix for mobile tables that are too wide */
.touch-optimized table {
  min-width: 100%;
  width: 100%;
  table-layout: auto;
}

/* Ensure tables can scroll horizontally on small screens */
.touch-optimized .table-container {
  width: 100%;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}

/* Ensure forms don't overflow mobile viewport */
.touch-optimized form {
  max-width: 100%;
}

/* Ensure images don't break out of their containers */
.touch-optimized img {
  max-width: 100%;
  height: auto;
}

/* Fix for the carousel on mobile */
@media (max-width: 640px) {
  .nutrition-carousel {
    margin-left: -2px;
    margin-right: -2px;
    width: calc(100% + 4px);
    padding-left: 2px;
    padding-right: 2px;
  }
  
  /* Make text tables more compact on mobile */
  .nutrition-carousel .simpleMicronutrient-table {
    font-size: 0.7rem;
  }
  
  /* Fix carousel item width on mobile */
  .carousel-scroll-area > * {
    width: 100% !important;
    max-width: 95vw !important;
  }
  
  /* Reduce table cell padding on small screens */
  .touch-optimized td,
  .touch-optimized th {
    padding: 0.5rem 0.25rem;
  }
  
  /* Better spacing for inputs on small screens */
  .touch-optimized .form-field {
    margin-bottom: 0.75rem;
  }
  
  /* Compress some paddings on mobile */
  .mobile-p-reduce {
    padding: 0.75rem !important;
  }
  
  /* Stack flex items on small screens when needed */
  .mobile-stack {
    flex-direction: column !important;
  }
  
  /* Fix for specific input fields on the homepage */
  .mobile-friendly-input {
    max-width: 100%;
    width: calc(100vw - 32px);
  }
}

/* Fix for Hero section on small screens */
@media (max-width: 480px) {
  .hero-section {
    padding-left: 1rem;
    padding-right: 1rem;
    margin-left: auto;
    margin-right: auto;
  }
  
  /* Ensure buttons don't overflow */
  .hero-section button,
  .hero-section .button {
    width: 100%;
    margin-bottom: 0.5rem;
  }
}

/* Debug CSS - uncomment to identify overflow issues */
/* 
.debug-layout * {
  outline: 1px solid rgba(255, 0, 0, 0.2);
}

.debug-layout .overflow-issue {
  outline: 2px solid rgba(255, 0, 0, 0.8);
}
*/
